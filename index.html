<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Hay Farm - Map</title>

<style>
body{
  margin:0;
  font-family:Tahoma;
  overflow:hidden;
  background:#9ae6b4;
}
header{
  background:#f6ad55;
  padding:8px;
  display:flex;
  justify-content:space-around;
  font-weight:bold;
}
#world{
  width:100vw;
  height:calc(100vh - 50px);
  overflow:hidden;
  touch-action:none;
}
#map{
  width:2000px;
  height:2000px;
  background:linear-gradient(#86efac,#4ade80);
  position:relative;
  transform-origin:0 0;
}
.building{
  width:80px;
  height:80px;
  background:#fde68a;
  border:3px solid #6b7280;
  border-radius:16px;
  position:absolute;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
  cursor:grab;
}
</style>
</head>

<body>

<header>
ğŸ’° <span id="coins">0</span>
ğŸŒ¾ <span id="wheat">0</span>
ğŸ¥š <span id="eggs">0</span>
ğŸ¥› <span id="milk">0</span>
ğŸ§¶ <span id="wool">0</span>
ğŸ <span id="bread">0</span>
â­ <span id="xp">0</span>
ğŸ… <span id="level">1</span>
</header>


<div id="world">
  <div id="map">let resources = {
  wheat: 0,
  eggs: 0,
  milk: 0,
  wool: 0,
  bread: 0,
  cake: 0,
  jam: 0,
  strawberry: 0
};

const productionRules = {
  chicken: { time: 10000, resource: "eggs", amount: 1 },
  cow:     { time: 15000, resource: "milk", amount: 1 },
  sheep:  { time: 20000, resource: "wool", amount: 1 },
  bakery: { time: 12000, resource: "bread", amount: 1, cost:"wheat" }
};/div>
</div>

  
<script>
// ================= Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª =================
let coins=0,xp=0,level=1;
let zoom=1, panX=0, panY=0;
let draggingMap=false;
let startX,startY;

// Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ

let buildings=[
  {id:"farm",icon:"ğŸŒ¾",x:200,y:200},
  {id:"bakery",icon:"ğŸ­",x:350,y:200,last:Date.now()},
  {id:"chicken",icon:"ğŸ”",x:500,y:200,last:Date.now()},
  {id:"cow",icon:"ğŸ„",x:650,y:200,last:Date.now()},
  {id:"sheep",icon:"ğŸ‘",x:800,y:200,last:Date.now()}
];
 
// ================= Ø­ÙØ¸ =================
function save(){
  localStorage.setItem("hayfarm_map",JSON.stringify({coins,xp,level,buildings}));
}
function load(){
  const s=JSON.parse(localStorage.getItem("hayfarm_map"));
  if(s){
    coins=s.coins;xp=s.xp;level=s.level;
    buildings=s.buildings;
  }
}
load();

// ================= ÙˆØ§Ø¬Ù‡Ø© =================
const coinsEl=document.getElementById("coins");
const xpEl=document.getElementById("xp");
const levelEl=document.getElementById("level");

function ui(){
  coinsEl.textContent=coins;
  xpEl.textContent=xp;
  levelEl.textContent=level;
  document.getElementById("wheat").textContent=resources.wheat;
  document.getElementById("eggs").textContent=resources.eggs;
  document.getElementById("milk").textContent=resources.milk;
  document.getElementById("wool").textContent=resources.wool;
  document.getElementById("bread").textContent=resources.bread;
  save();
}
 
ui();

// ================= Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø¨Ø§Ù†ÙŠ =================
const map=document.getElementById("map");

function renderBuildings(){
  map.innerHTML="";
  buildings.forEach(b=>{
    const el=document.createElement("div");
    el.className="building";
    el.textContent=b.icon;
    el.style.left=b.x+"px";
    el.style.top=b.y+"px";

    // Ø³Ø­Ø¨ Ø§Ù„Ù…Ø¨Ù†Ù‰
    let drag=false,ox,oy;
    el.onmousedown=e=>{
      drag=true;
      ox=e.clientX-b.x;
      oy=e.clientY-b.y;
      e.stopPropagation();
    };
    window.onmouseup=()=>drag=false;
    window.onmousemove=e=>{
      if(!drag)return;
      b.x=e.clientX-ox;
      b.y=e.clientY-oy;
      el.style.left=b.x+"px";
      el.style.top=b.y+"px";
      save();
    };

    map.appendChild(el);
  });
}
renderBuildings();

// ================= Ø³Ø­Ø¨ Ø§Ù„Ø®Ø±ÙŠØ·Ø© =================
const world=document.getElementById("world");

world.onmousedown=e=>{
  draggingMap=true;
  startX=e.clientX-panX;
  startY=e.clientY-panY;
};
window.onmouseup=()=>draggingMap=false;
window.onmousemove=e=>{
  if(!draggingMap)return;
  panX=e.clientX-startX;
  panY=e.clientY-startY;
  map.style.transform=`translate(${panX}px,${panY}px) scale(${zoom})`;
};

// ================= Zoom =================
world.onwheel=e=>{
  zoom+=e.deltaY*-0.001;
  zoom=Math.min(Math.max(0.4,zoom),2);
  map.style.transform=`translate(${panX}px,${panY}px) scale(${zoom})`;
};

  setInterval(processProduction, 3000);
no
</script>
  

</body>
</html>

